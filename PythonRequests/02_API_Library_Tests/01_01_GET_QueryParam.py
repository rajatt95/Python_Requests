# /**
# * @author Rajat Verma
# * https://www.linkedin.com/in/rajat-v-3b0685128/
# * https://github.com/rajatt95
# * https://rajatt95.github.io/
# *
# * Course: Learn API Automation Testing with Python & BDD Framework (https://www.udemy.com/course/python-sdet-rest-api-automation/)
# * Tutor: Rahul Shetty (https://www.udemy.com/user/rahul445/)
# */
#
# /***************************************************/

# https://realpython.com/python-requests/
# https://docs.python-requests.org/en/latest/
# Requests is an elegant and simple HTTP library for Python, built for human beings.
import json

import requests

# Base URL: http://216.10.245.166
# /Library/GetBook.php?AuthorName=somename

# GET request
response = requests.get('http://216.10.245.166/Library/GetBook.php',
             # Query param
             params={'AuthorName': 'Rahul Shetty2'},
             # 3rd argument takes information like Header
             # We are leaving it blank because this API does not require any headers
             )

responseInString = response.text
print(responseInString) # [{"book_name":"Devops","isbn":"abcd","aisle":"75"},{"book_name":"Devops","isbn":"asdasadsdas","aisle":"75"},{"book_name":"Devops","isbn":"bnid34","aisle":"86"},{"book_name":"Devops","isbn":"bnid34","aisle":"89"},{"book_name":"Devops","isbn":"bnid34","aisle":"90"},{"book_name":"Devops","isbn":"bnid34","aisle":"91"},{"book_name":"Devops","isbn":"bnid34","aisle":"92"},{"book_name":"Devops","isbn":"bnid34","aisle":"93"},{"book_name":"Devops","isbn":"bnid34","aisle":"102"},{"book_name":"Devops","isbn":"bnid34","aisle":"112"},{"book_name":"Devops","isbn":"bnid34","aisle":"113"},{"book_name":"Devops","isbn":"bnid34","aisle":"114"},{"book_name":"Devops","isbn":"bnid34","aisle":"116"},{"book_name":"Devops","isbn":"bnid34","aisle":"118"},{"book_name":"Devops","isbn":"bnid34","aisle":"119"},{"book_name":"Devops","isbn":"bnid34","aisle":"120"},{"book_name":"Devops","isbn":"bnid34","aisle":"121"},{"book_name":"Devops","isbn":"bnid34","aisle":"123"},{"book_name":"Devops","isbn":"bnid34","aisle":"125"},{"book_name":"Devops","isbn":"bnid34","aisle":"126"},{"book_name":"Devops","isbn":"bnid34","aisle":"128"},{"book_name":"Devops","isbn":"bnid34","aisle":"129"},{"book_name":"Devops","isbn":"Seyn","aisle":"75"},{"book_name":"Devops","isbn":"bnid34","aisle":"131"},{"book_name":"Devops","isbn":"bnid34","aisle":"134"},{"book_name":"Devops","isbn":"bnid34","aisle":"135"},{"book_name":"Devops","isbn":"bnid34","aisle":"137"},{"book_name":"Devops","isbn":"bnid34","aisle":"138"},{"book_name":"Devops","isbn":"bnid34","aisle":"141"},{"book_name":"Learn Appium Automation with Java","isbn":"RGHCC","aisle":"22755"},{"book_name":"Learn Appium Automation with Java","isbn":"RGHCC","aisle":"99755"},{"book_name":"Learn Appium Automation with Java","isbn":"RGHCC","aisle":"997555"},{"book_name":"Learn Appium Automation with Java","isbn":"RGHCC","aisle":"997005"},{"book_name":"Learn Appium Automation with Java","isbn":"RGHCC","aisle":"997055"},{"book_name":"Devops","isbn":"bnid34asgd","aisle":"75"},{"book_name":"Devops","isbn":"USA","aisle":"75"},{"book_name":"Learn Appium Automation with Java","isbn":"bcz888eded","aisle":"20027"},{"book_name":"learn Appium Automation with Java","isbn":"bcz88effed","aisle":"20027"},{"book_name":"learn Appium Automation with Java","isbn":"bcz88effed","aisle":"2027"},{"book_name":"learn Appium Automation with Java","isbn":"bcz88effed","aisle":"333"},{"book_name":"learn Appium Automation with Java","isbn":"bcz88effed","aisle":"13435"},{"book_name":"learn Appium Automation with Java","isbn":"bcz88effed","aisle":"139435"},{"book_name":"learn Appium Automation with Java","isbn":"bcz88effed","aisle":"987"},{"book_name":"DevopsAgile","isbn":"babuid221069","aisle":"756"},{"book_name":"Devops","isbn":"bnid341","aisle":"75"},{"book_name":"Devops","isbn":"1259789","aisle":"75"},{"book_name":"Devops","isbn":"bnid34","aisle":"95"},{"book_name":"Devops","isbn":"bnid34","aisle":"195"},{"book_name":"Devops","isbn":"bnid34","aisle":"295"},{"book_name":"Devops","isbn":"bnid34","aisle":"395"},{"book_name":"Devops","isbn":"bnid34","aisle":"495"},{"book_name":"Devops","isbn":"bnid34","aisle":"55"},{"book_name":"Devops","isbn":"bnid34","aisle":"855"},{"book_name":"Devops","isbn":"bnid34","aisle":"955"},{"book_name":"Devops","isbn":"hjdfhjd","aisle":"75"},{"book_name":"Devops","isbn":"gadha","aisle":"75"},{"book_name":"Devops","isbn":"gadha123","aisle":"75"},{"book_name":"Devops","isbn":"bnid344W6","aisle":"75"},{"book_name":"Devops","isbn":"bnid340","aisle":"750"},{"book_name":"Python","isbn":"23413","aisle":"75"},{"book_name":"Devops","isbn":"U55S","aisle":"75"},{"book_name":"Devops","isbn":"1233","aisle":"75"},{"book_name":"Devops","isbn":"12","aisle":"75"},{"book_name":"Devops","isbn":"rt12","aisle":"75"},{"book_name":"Devops","isbn":"U66S","aisle":"75"},{"book_name":"Python","isbn":"341237","aisle":"75"},{"book_name":"Python","isbn":"0","aisle":"75"},{"book_name":"Devops","isbn":"bnid34","aisle":"75"}]
print(type(responseInString)) # <class 'str'>

# Covered in 21_01_ParserJSON
responseInDictionary = json.loads(responseInString)
print(responseInDictionary) # [{'book_name': 'Devops', 'isbn': 'abcd', 'aisle': '75'}, {'book_name': 'Devops', 'isbn': 'asdasadsdas', 'aisle': '75'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '86'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '89'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '90'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '91'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '92'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '93'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '102'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '112'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '113'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '114'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '116'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '118'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '119'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '120'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '121'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '123'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '125'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '126'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '128'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '129'}, {'book_name': 'Devops', 'isbn': 'Seyn', 'aisle': '75'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '131'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '134'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '135'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '137'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '138'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '141'}, {'book_name': 'Learn Appium Automation with Java', 'isbn': 'RGHCC', 'aisle': '22755'}, {'book_name': 'Learn Appium Automation with Java', 'isbn': 'RGHCC', 'aisle': '99755'}, {'book_name': 'Learn Appium Automation with Java', 'isbn': 'RGHCC', 'aisle': '997555'}, {'book_name': 'Learn Appium Automation with Java', 'isbn': 'RGHCC', 'aisle': '997005'}, {'book_name': 'Learn Appium Automation with Java', 'isbn': 'RGHCC', 'aisle': '997055'}, {'book_name': 'Devops', 'isbn': 'bnid34asgd', 'aisle': '75'}, {'book_name': 'Devops', 'isbn': 'USA', 'aisle': '75'}, {'book_name': 'Learn Appium Automation with Java', 'isbn': 'bcz888eded', 'aisle': '20027'}, {'book_name': 'learn Appium Automation with Java', 'isbn': 'bcz88effed', 'aisle': '20027'}, {'book_name': 'learn Appium Automation with Java', 'isbn': 'bcz88effed', 'aisle': '2027'}, {'book_name': 'learn Appium Automation with Java', 'isbn': 'bcz88effed', 'aisle': '333'}, {'book_name': 'learn Appium Automation with Java', 'isbn': 'bcz88effed', 'aisle': '13435'}, {'book_name': 'learn Appium Automation with Java', 'isbn': 'bcz88effed', 'aisle': '139435'}, {'book_name': 'learn Appium Automation with Java', 'isbn': 'bcz88effed', 'aisle': '987'}, {'book_name': 'DevopsAgile', 'isbn': 'babuid221069', 'aisle': '756'}, {'book_name': 'Devops', 'isbn': 'bnid341', 'aisle': '75'}, {'book_name': 'Devops', 'isbn': '1259789', 'aisle': '75'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '95'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '195'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '295'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '395'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '495'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '55'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '855'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '955'}, {'book_name': 'Devops', 'isbn': 'hjdfhjd', 'aisle': '75'}, {'book_name': 'Devops', 'isbn': 'gadha', 'aisle': '75'}, {'book_name': 'Devops', 'isbn': 'gadha123', 'aisle': '75'}, {'book_name': 'Devops', 'isbn': 'bnid344W6', 'aisle': '75'}, {'book_name': 'Devops', 'isbn': 'bnid340', 'aisle': '750'}, {'book_name': 'Python', 'isbn': '23413', 'aisle': '75'}, {'book_name': 'Devops', 'isbn': 'U55S', 'aisle': '75'}, {'book_name': 'Devops', 'isbn': '1233', 'aisle': '75'}, {'book_name': 'Devops', 'isbn': '12', 'aisle': '75'}, {'book_name': 'Devops', 'isbn': 'rt12', 'aisle': '75'}, {'book_name': 'Devops', 'isbn': 'U66S', 'aisle': '75'}, {'book_name': 'Python', 'isbn': '341237', 'aisle': '75'}, {'book_name': 'Python', 'isbn': '0', 'aisle': '75'}, {'book_name': 'Devops', 'isbn': 'bnid34', 'aisle': '75'}]

print(type(responseInDictionary)) # <class 'list'>
# Response has a list
print(responseInDictionary[0]['book_name']) # Devops


